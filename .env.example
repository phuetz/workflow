# ===========================================
# WORKFLOW AUTOMATION PLATFORM - ENV CONFIG
# ===========================================

# Application
NODE_ENV=development
PORT=3000
API_PORT=3001
APP_NAME="Workflow Automation Platform"
APP_VERSION=1.0.0
APP_URL=http://localhost:3000
API_URL=http://localhost:3001

# Vite Frontend Configuration
VITE_API_BASE_URL=http://localhost:3001/api/v1
VITE_GRAPHQL_URL=http://localhost:3001/api/v1/graphql
VITE_WS_URL=ws://localhost:3001/ws
VITE_APP_URL=http://localhost:3000
VITE_APP_VERSION=1.0.0
VITE_BUILD_NUMBER=1
VITE_DEBUG=true

# Database Configuration
DATABASE_URL=postgresql://workflow_user:workflow_password@localhost:5432/workflow_db
DATABASE_NAME=workflow_db
DATABASE_USER=workflow_user
DATABASE_PASSWORD=workflow_password
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_SSL=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_TIMEOUT=30000

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=0
REDIS_TTL=3600

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=workflow-app
JWT_AUDIENCE=workflow-users

# Session Configuration
SESSION_SECRET=your-super-secret-session-key-change-in-production
SESSION_MAX_AGE=86400000
SESSION_SECURE=false
SESSION_SAME_SITE=lax

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# OAuth2 Providers
# Google OAuth
VITE_GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/callback/google

# GitHub OAuth
VITE_GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URI=http://localhost:3000/auth/callback/github

# Microsoft OAuth
VITE_MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_TENANT_ID=common
MICROSOFT_REDIRECT_URI=http://localhost:3000/auth/callback/microsoft

# Email Configuration (SMTP)  
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@workflow-app.com
EMAIL_FROM_NAME=Workflow Platform

# SendGrid (Alternative)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@workflow-app.com

# ===========================================
# CREDENTIAL ENCRYPTION (CRITICAL FOR PRODUCTION!)
# ===========================================
# AES-256-GCM encryption for sensitive credentials
#
# SECURITY REQUIREMENTS:
# 1. ENCRYPTION_KEY: 64 hex characters (32 bytes)
# 2. ENCRYPTION_SALT: 32 hex characters (16 bytes)
# 3. Use different keys for dev/staging/production
# 4. Store keys in secure vault (AWS Secrets Manager, HashiCorp Vault, etc.)
# 5. Rotate keys every 90 days (automatic rotation supported)
# 6. NEVER commit real keys to git
#
# Generate new keys with:
#   npm run generate:keys
# Or manually:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#   node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
#
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
ENCRYPTION_SALT=0123456789abcdef0123456789abcdef
ENCRYPTION_ALGORITHM=aes-256-gcm

# Key Management
KEY_STORAGE_PATH=.keys
KEY_ROTATION_INTERVAL_DAYS=90

# Password Hashing
HASH_SALT_ROUNDS=12

# OAuth2 Providers (Configure to enable OAuth2 flows)
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/api/oauth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_REDIRECT_URI=http://localhost:3000/api/oauth/github/callback

# Slack OAuth
SLACK_CLIENT_ID=your-slack-client-id
SLACK_CLIENT_SECRET=your-slack-client-secret
SLACK_REDIRECT_URI=http://localhost:3000/api/oauth/slack/callback

# Salesforce OAuth
SALESFORCE_CLIENT_ID=your-salesforce-client-id
SALESFORCE_CLIENT_SECRET=your-salesforce-client-secret
SALESFORCE_REDIRECT_URI=http://localhost:3000/api/oauth/salesforce/callback

# External Service API Keys
OPENAI_API_KEY=sk-your_openai_key_here
ANTHROPIC_API_KEY=your_anthropic_key_here
GOOGLE_AI_API_KEY=your_google_ai_key_here
AZURE_OPENAI_API_KEY=your_azure_openai_key_here

# Monitoring & Analytics
SENTRY_DSN=your_sentry_dsn_here
GOOGLE_ANALYTICS_ID=your_google_analytics_id_here

# Third-party Integrations
STRIPE_PUBLISHABLE_KEY=pk_your_stripe_key_here
STRIPE_SECRET_KEY=sk_your_stripe_secret_key_here
SLACK_BOT_TOKEN=xoxb-your_slack_bot_token_here
GITHUB_TOKEN=ghp_your_github_token_here

# Analytics Persistence Configuration
ANALYTICS_DB_BACKEND=influxdb
ANALYTICS_DB_URL=http://localhost:8086
ANALYTICS_DB_TOKEN=your_influxdb_token_here
ANALYTICS_DB_ORG=workflow-org
ANALYTICS_DB_BUCKET=analytics
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=10000

# Feature Flags
REACT_APP_ENABLE_DEBUG_MODE=false
REACT_APP_ENABLE_TELEMETRY=true
REACT_APP_ENABLE_BETA_FEATURES=false

# Timeout Configuration (all values in milliseconds)
TIMEOUT_API_REQUEST=30000
TIMEOUT_WORKFLOW_EXECUTION=300000
TIMEOUT_FILE_UPLOAD=60000
TIMEOUT_NODE_EXECUTION=120000
TIMEOUT_HTTP_REQUEST=30000
TIMEOUT_MARKETPLACE=10000
TIMEOUT_VECTOR_STORE=30000
TIMEOUT_PLUGIN_ENGINE=15000
TIMEOUT_CONNECTION_STATUS=5000
TIMEOUT_DATABASE=30000
TIMEOUT_LLM_REQUEST=30000
TIMEOUT_GRAPHQL_REQUEST=30000
TIMEOUT_AI_WORKFLOW=30000
TIMEOUT_SECRETS_HEALTH_CHECK=3600000
TIMEOUT_SECRETS_ROTATION=86400000
TIMEOUT_SECRETS_BACKUP=86400000
TIMEOUT_RETRY=1000
TIMEOUT_SHORT_DELAY=100
TIMEOUT_MEDIUM_DELAY=2000
TIMEOUT_LONG_DELAY=3000
TIMEOUT_UI_ANIMATION=1000

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
# Log level: debug, info, warn, error, fatal
# In production, 'info' is recommended; in dev, 'debug' shows all logs
LOG_LEVEL=debug

# Remote logging endpoint (e.g., Datadog, Splunk, ELK)
# Leave empty to disable remote logging
LOG_REMOTE_ENDPOINT=

# Maximum log entries stored in localStorage (browser)
LOG_MAX_LOCAL_ENTRIES=1000

# Include stack traces in error logs (disable in production for performance)
LOG_INCLUDE_STACK_TRACE=true

# Sanitize sensitive data in logs (passwords, tokens, keys)
LOG_SANITIZE_DATA=true

# Enable console logging (disable in production)
LOG_ENABLE_CONSOLE=true

# ===========================================
# QUEUE & WORKER CONFIGURATION
# ===========================================
# Number of concurrent worker processes
WORKER_CONCURRENCY=2

# Maximum retry attempts for failed executions
MAX_RETRIES=3

# Queue polling interval (ms) when Redis is not available
QUEUE_POLL_INTERVAL=250